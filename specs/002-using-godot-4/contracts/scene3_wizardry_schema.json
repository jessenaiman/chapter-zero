{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://omega-spiral.dev/contracts/scene3_wizardry_schema.json",
  "title": "Wizardry Party Creation Schema",
  "description": "JSON schema for classic CRPG party creation interface data",
  "type": "object",
  "properties": {
    "type": { "type": "string", "enum": [ "wizardry_party" ], "description": "Scene type identifier" },
    "title": { "type": "string", "minLength": 5, "maxLength": 100, "description": "Title displayed at top of party creation screen" },
    "partySize": { "type": "integer", "minimum": 3, "maximum": 4, "default": 3, "description": "Number of party members to create" },
    "classes": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [ "Fighter", "Mage", "Priest", "Thief", "Bard", "Paladin", "Ranger" ],
        "description": "Available character classes"
      },
      "minItems": 5,
      "maxItems": 7,
      "description": "List of available character classes"
    },
    "races": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [ "Human", "Elf", "Dwarf", "Gnome", "Halfling", "Half-Elf" ],
        "description": "Available character races"
      },
      "minItems": 4,
      "maxItems": 6,
      "description": "List of available character races"
    },
    "stats": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [ "STR", "INT", "WIS", "DEX", "CON", "CHR", "LCK" ],
        "description": "Character stat abbreviation"
      },
      "minItems": 6,
      "maxItems": 7,
      "description": "List of character stats to display and modify"
    },
    "statRanges": {
      "type": "object",
      "patternProperties": {
        "^(STR|INT|WIS|DEX|CON|CHR|LCK)$": {
          "type": "object",
          "properties": {
            "min": { "type": "integer", "minimum": 8, "maximum": 12, "description": "Minimum stat value" },
            "max": { "type": "integer", "minimum": 15, "maximum": 18, "description": "Maximum stat value" },
            "base": { "type": "integer", "minimum": 10, "maximum": 15, "description": "Base stat value before racial modifiers" }
          },
          "required": [ "min", "max", "base" ]
        }
      },
      "description": "Stat generation ranges and base values"
    },
    "confirmText": { "type": "string", "minLength": 5, "maxLength": 50, "description": "Text displayed on confirmation button" },
    "classDescriptions": {
      "type": "object",
      "patternProperties": {
        "^(Fighter|Mage|Priest|Thief|Bard|Paladin|Ranger)$": { "type": "string", "minLength": 10, "maxLength": 100, "description": "Description of the character class" }
      },
      "description": "Optional class descriptions for player guidance"
    },
    "raceModifiers": {
      "type": "object",
      "patternProperties": {
        "^(Human|Elf|Dwarf|Gnome|Halfling|Half-Elf)$": {
          "type": "object",
          "patternProperties": {
            "^(STR|INT|WIS|DEX|CON|CHR|LCK)$": { "type": "integer", "minimum": -2, "maximum": 2, "description": "Racial modifier for this stat" }
          },
          "description": "Racial stat modifiers"
        }
      },
      "description": "Optional racial stat modifiers"
    }
  },
  "required": [
    "type",
    "title",
    "classes",
    "races",
    "stats",
    "confirmText"
  ]
}
