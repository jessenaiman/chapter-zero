[gd_scene load_steps=6 format=3 uid="uid://chpb1mj03xjxv"]

[ext_resource type="Script" uid="uid://dig6hb8vlmsvr" path="res://addons/dialogic/Editor/Settings/settings_translation.gd" id="1_dvmyi"]
[ext_resource type="PackedScene" uid="uid://dbpkta2tjsqim" path="res://addons/dialogic/Editor/Common/hint_tooltip_icon.tscn" id="2_k2lou"]
[ext_resource type="PackedScene" uid="uid://dpwhshre1n4t6" path="res://addons/dialogic/Editor/Events/Fields/field_options_dynamic.tscn" id="3_dq4j2"]
[ext_resource type="PackedScene" uid="uid://7mvxuaulctcq" path="res://addons/dialogic/Editor/Events/Fields/field_file.tscn" id="4_kvsma"]

[sub_resource type="DPITexture" id="DPITexture_2j4b6"]
_source = "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\"><path fill=\"#ff5d5d\" d=\"M2 1v8.586l1.293-1.293a1 1 0 0 1 1.414 0L7 10.587l2.293-2.293a1 1 0 0 1 1.414 0L13 10.586l1-1V6H9V1H2zm8 0v4h4zm-6 9.414-2 2V15h12v-2.586l-.293.293a1 1 0 0 1-1.414 0L10 10.414l-2.293 2.293a1 1 0 0 1-1.414 0L4 10.414z\"/></svg>
"

[node name="Translations" type="VBoxContainer" unique_id=927355086]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -101.0
offset_bottom = 102.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_dvmyi")

[node name="HBox" type="HBoxContainer" parent="." unique_id=1185367512]
layout_mode = 2

[node name="Basics" type="VBoxContainer" parent="HBox" unique_id=1474053845]
layout_mode = 2
size_flags_horizontal = 3

[node name="Title" type="Label" parent="HBox/Basics" unique_id=132113362]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Basics"

[node name="VBox4" type="HBoxContainer" parent="HBox/Basics" unique_id=2085151305]
layout_mode = 2

[node name="Label" type="Label" parent="HBox/Basics/VBox4" unique_id=326057588]
layout_mode = 2
text = "Enable translations"

[node name="TransEnabled" type="CheckBox" parent="HBox/Basics/VBox4" unique_id=1384364897]
unique_name_in_owner = true
layout_mode = 2

[node name="HSeparator5" type="VSeparator" parent="HBox" unique_id=1894954618]
layout_mode = 2

[node name="Testing" type="VBoxContainer" parent="HBox" unique_id=1593089465]
layout_mode = 2
size_flags_horizontal = 3

[node name="Title2" type="Label" parent="HBox/Testing" unique_id=1132620591]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Testing"

[node name="VBox3" type="HBoxContainer" parent="HBox/Testing" unique_id=1607832126]
layout_mode = 2

[node name="Label3" type="Label" parent="HBox/Testing/VBox3" unique_id=564428253]
layout_mode = 2
text = "Testing locale"

[node name="HintTooltip8" parent="HBox/Testing/VBox3" unique_id=103890371 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Change this locale to test your game in a different language (only in-editor).
Equivalent of the testing local project setting. "
texture = null
hint_text = "Change this locale to test your game in a different language (only in-editor).
Equivalent of the testing local project setting. 

Update dropdown list via \"Collect Translation\"."

[node name="TestingLocale" parent="HBox/Testing/VBox3" unique_id=41102530 instance=ExtResource("3_dq4j2")]
unique_name_in_owner = true
layout_mode = 2

[node name="HSeparator4" type="HSeparator" parent="." unique_id=1412052890]
layout_mode = 2

[node name="TranslationSettings" type="HBoxContainer" parent="." unique_id=1734279041]
unique_name_in_owner = true
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="TranslationSettings" unique_id=322798767]
layout_mode = 2
size_flags_horizontal = 3

[node name="SettingsTitle" type="Label" parent="TranslationSettings/VBoxContainer" unique_id=1604770435]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Settings"

[node name="Grid" type="GridContainer" parent="TranslationSettings/VBoxContainer" unique_id=1074908726]
layout_mode = 2
columns = 2

[node name="VBox" type="HBoxContainer" parent="TranslationSettings/VBoxContainer/Grid" unique_id=395888395]
layout_mode = 2

[node name="Label3" type="Label" parent="TranslationSettings/VBoxContainer/Grid/VBox" unique_id=403915153]
layout_mode = 2
text = "Default locale"

[node name="HintTooltip" parent="TranslationSettings/VBoxContainer/Grid/VBox" unique_id=71680488 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "The locale of the language your timelines are written in."
texture = null
hint_text = "The locale of the language your timelines are written in."

[node name="OrigLocale" parent="TranslationSettings/VBoxContainer/Grid" unique_id=1052664932 instance=ExtResource("3_dq4j2")]
unique_name_in_owner = true
layout_mode = 2

[node name="TransFile" type="HBoxContainer" parent="TranslationSettings/VBoxContainer/Grid" unique_id=1269946818]
layout_mode = 2

[node name="Label" type="Label" parent="TranslationSettings/VBoxContainer/Grid/TransFile" unique_id=343675762]
layout_mode = 2
text = "Translation folder"

[node name="HintTooltip3" parent="TranslationSettings/VBoxContainer/Grid/TransFile" unique_id=811876724 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Choose a folder to let Dialogic save CSV files in.
Also used when saving \"Inside Translation Folder\""
texture = null
hint_text = "Choose a folder to let Dialogic save CSV files in.
Also used when saving \"Inside Translation Folder\""

[node name="TransFolderPicker" parent="TranslationSettings/VBoxContainer/Grid" unique_id=918324831 instance=ExtResource("4_kvsma")]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
file_mode = 2

[node name="VBox2" type="HBoxContainer" parent="TranslationSettings/VBoxContainer/Grid" unique_id=457320346]
layout_mode = 2

[node name="OutputModeLabel" type="Label" parent="TranslationSettings/VBoxContainer/Grid/VBox2" unique_id=1656349780]
layout_mode = 2
text = "Output mode"

[node name="OutputModeTooltip" parent="TranslationSettings/VBoxContainer/Grid/VBox2" unique_id=32425456 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Decides how many CSV files will be created.

• \"Per Type\": Uses one CSV file for each type of resource: Timelines, characters, and glossaries.
For example, 10 timelines will be combined into 1 CSV file.

• \"Per File\": Uses one CSV file for each resource file.
For example, 10 timelines will result in 10 CSV files.

The \"Per File\" option utilises \"Output location\", in contrast, the \"Per Type\" will always use the Translation folder."
texture = null
hint_text = "Decides how many CSV files will be created.

• \"Per Type\": Uses one CSV file for each type of resource: Timelines, characters, and glossaries.
For example, 10 timelines will be combined into 1 CSV file.

• \"Per File\": Uses one CSV file for each resource file.
For example, 10 timelines will result in 10 CSV files.

The \"Per File\" option utilises \"Output location\", in contrast, the \"Per Type\" will always use the Translation folder."

[node name="TransMode" type="OptionButton" parent="TranslationSettings/VBoxContainer/Grid" unique_id=412250504]
unique_name_in_owner = true
layout_mode = 2
selected = 0
item_count = 2
popup/item_0/text = "Per Type"
popup/item_0/id = 0
popup/item_1/text = "Per File"
popup/item_1/id = 1

[node name="OutputLocation" type="HBoxContainer" parent="TranslationSettings/VBoxContainer/Grid" unique_id=713028463]
layout_mode = 2

[node name="OutputLocationLabel" type="Label" parent="TranslationSettings/VBoxContainer/Grid/OutputLocation" unique_id=303022642]
layout_mode = 2
text = "Output location"

[node name="OutputLocationTooltip" parent="TranslationSettings/VBoxContainer/Grid/OutputLocation" unique_id=1566221931 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Decides where to save the generated CSV files.

• \"Inside Translation Folder\": Uses the \"Translation folder\".

• \"Next To Timeline\": Places them in the resource type's folder.

This button requires the \"Per File\" Output mode.
A resource type can be: Timelines, characters, and glossaries."
texture = null
hint_text = "Decides where to save the generated CSV files.

• \"Inside Translation Folder\": Uses the \"Translation folder\".

• \"Next To Timeline\": Places them in the resource type's folder.

This button requires the \"Per File\" Output mode.
A resource type can be: Timelines, characters, and glossaries."

[node name="SaveLocationMode" type="OptionButton" parent="TranslationSettings/VBoxContainer/Grid" unique_id=2075475314]
unique_name_in_owner = true
layout_mode = 2
disabled = true
selected = 0
item_count = 2
popup/item_0/text = "Inside Translation Folder"
popup/item_0/id = 0
popup/item_1/text = "Next to File"
popup/item_1/id = 1

[node name="Control" type="Control" parent="TranslationSettings/VBoxContainer/Grid" unique_id=1738633356]
visible = false
layout_mode = 2

[node name="AddSeparatorHBox" type="HBoxContainer" parent="TranslationSettings/VBoxContainer/Grid" unique_id=159165311]
layout_mode = 2

[node name="AddSeparatorLabel" type="Label" parent="TranslationSettings/VBoxContainer/Grid/AddSeparatorHBox" unique_id=1490171786]
layout_mode = 2
text = "Add Separator Lines"

[node name="HintAddSeparatorEnabled" parent="TranslationSettings/VBoxContainer/Grid/AddSeparatorHBox" unique_id=1862105558 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Adds an empty line into per-project CSVs to differentiate between sections.

For example, when a new glossary item or timeline starts, an empty line will be added."
texture = null
hint_text = "Adds an empty line into per-project CSVs to differentiate between sections.

For example, when a new glossary item or timeline starts, an empty line will be added."

[node name="AddSeparatorEnabled" type="CheckBox" parent="TranslationSettings/VBoxContainer/Grid" unique_id=553597772]
unique_name_in_owner = true
layout_mode = 2

[node name="HSeparator6" type="VSeparator" parent="TranslationSettings" unique_id=25905704]
layout_mode = 2

[node name="VBoxContainer2" type="VBoxContainer" parent="TranslationSettings" unique_id=879311410]
layout_mode = 2
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="TranslationSettings/VBoxContainer2" unique_id=1347088064]
layout_mode = 2

[node name="Title3" type="Label" parent="TranslationSettings/VBoxContainer2/HBoxContainer" unique_id=1646861866]
layout_mode = 2
theme_type_variation = &"DialogicSettingsSection"
text = "Actions"

[node name="Actions" type="GridContainer" parent="TranslationSettings/VBoxContainer2" unique_id=1634101910]
layout_mode = 2
columns = 2

[node name="UpdateCsvFiles" type="Button" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=1957487891]
unique_name_in_owner = true
layout_mode = 2
disabled = true
text = "Update CSV files"
icon = SubResource("DPITexture_2j4b6")

[node name="HintTooltip5" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=275068730 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "This button will scan all timelines and generate or update their CSV files.

A Dialogic CSV file will be prefixed with \"dialogic_\".

This action will be disabled if the \"Translation folder\" is missing or has an invalid path."
texture = null
hint_text = "This button will scan all timelines and generate or update their CSV files.

A Dialogic CSV file will be prefixed with \"dialogic_\".

This action will be disabled if the \"Translation folder\" is missing or has an invalid path."

[node name="CollectTranslations" type="Button" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=2138694512]
unique_name_in_owner = true
layout_mode = 2
text = "Collect translations"
icon = SubResource("DPITexture_2j4b6")

[node name="HintTooltip6" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=1627272347 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Godot imports CSV files as \".translation\" files.
This buttons adds them to \"Project Settings -> Localization\".
"
texture = null
hint_text = "Godot imports CSV files as \".translation\" files.
This buttons adds them to \"Project Settings -> Localization\".
"

[node name="AspectRatioContainer2" type="AspectRatioContainer" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=1935941224]
custom_minimum_size = Vector2(0, 31)
layout_mode = 2

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=1933715326]
custom_minimum_size = Vector2(0, 31)
layout_mode = 2

[node name="TransRemove" type="Button" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=644130070]
unique_name_in_owner = true
layout_mode = 2
text = "Remove translations"
icon = SubResource("DPITexture_2j4b6")

[node name="HintTooltip7" parent="TranslationSettings/VBoxContainer2/Actions" unique_id=1236666164 instance=ExtResource("2_k2lou")]
layout_mode = 2
tooltip_text = "Be very careful with this button!

It will try to delete any \".csv\" and \".translation\" files that are related to Dialogic.
CSV and translation files prefixed with \"dialogic_\" are treated as Dialogic-related.

Removes translation IDs (eg. #id:33) from timelines and characters."
texture = null
hint_text = "Be very careful with this button!

It will try to delete any \".csv\" and \".translation\" files that are related to Dialogic.
CSV and translation files prefixed with \"dialogic_\" are treated as Dialogic-related.

Removes translation IDs (eg. #id:33) from timelines and characters."

[node name="StatusMessage" type="Label" parent="TranslationSettings/VBoxContainer2" unique_id=213803081]
unique_name_in_owner = true
layout_mode = 2
text = "⛔ Requires valid translation folder to translate character names and the project CSV file."
autowrap_mode = 3

[node name="UpdateConfirmationDialog" type="ConfirmationDialog" parent="." unique_id=1387353093]
unique_name_in_owner = true
title = "Please Decide..."
size = Vector2i(490, 200)
ok_button_text = "Delete old & Generate new"
dialog_text = "You have previously generated CSVs and translation files with different Translation Settings!

Please consider to delete the old CSVs and then generate new changes."
dialog_autowrap = true

[node name="EraseConfirmationDialog" type="ConfirmationDialog" parent="." unique_id=1851868552]
unique_name_in_owner = true
position = Vector2i(0, 36)
size = Vector2i(500, 280)
min_size = Vector2i(300, 70)
ok_button_text = "DELETE ALL"
dialog_text = "You are about to:
-   Delete all CSVs prefixed with \"dialogic_\".
-   Delete the related CSV import files.
-   Delete the related translation files.
-   Remove translation IDs from timelines and characters.
-   Remove all \"dialogic\" prefixed translations from \"Project Settings -> Localization\".
-   Remove the \"_translation_keys\" and \"entries\" starting with \"Glossary/\"."
dialog_autowrap = true

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="." unique_id=1678391644]
custom_minimum_size = Vector2(0, 31)
layout_mode = 2

[connection signal="confirmed" from="UpdateConfirmationDialog" to="." method="_delete_and_update"]
[connection signal="confirmed" from="EraseConfirmationDialog" to="." method="erase_translations"]
