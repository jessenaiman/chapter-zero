{
  "stage_id": "stage3_never_go_alone",
  "stage_name": "Never Go Alone",
  "description": "A desperate attempt by the Dreamweavers to forge a party strong enough to survive Omega's collapsing simulation, reflecting the player's identity through mirrored choices.",
  "stage2_influence": {
    "description": "Integration with Stage 2 outcomes. Based on prior Dreamweaver alignment (e.g., light-heavy path unlocks supportive characters like Scribe first). Implemented as filters in mirror_data.",
    "available_modifiers": [
      { "alignment": "light", "priority": ["scribe", "fighter"] },
      { "alignment": "mischief", "priority": ["thief", "wizard"] },
      { "alignment": "wrath", "priority": ["fighter", "thief"] }
    ]
  },
  "narrative_context": {
    "intro": {
      "text": "[Shard #472: Stabilizing...] You stand within a space that feels like a hall of mirrors, but the reflections show not your face, but possibilities. The echoes of Light, Mischief, and Wrath surround you, their voices overlapping, urgent. 'The loop... it's starting again,' one whispers. 'But this time... this time is different,' another insists. 'You are here.' The third says nothing, but you feel their gaze. 'Choose your first reflection, Aether's Chosen. Choose quickly. The code stirs.'",
      "dw_presence": ["light", "mischief", "wrath"],
      "visual": "A dimly lit, vast space with floating, slightly distorted mirrors. Faint, overlapping whispers. Player stands alone in the center."
    },
    "outro": {
      "text": {
        "success": "The Code Guardian staggers, its form flickering like a dying light. 'Impossible... the echoes... they are not contained...' Omega's voice crackles with static. 'Simulation... parameters... exceeded... Initiating...' The world begins to shift, pulling you and your chosen reflections away from this place of mirrors and code. You are no longer alone.",
        "failure": "The Code Guardian looms, its power overwhelming. 'You cannot win... the loop continues...' Omega's voice booms. 'Simulation... parameters... exceeded... Initiating...' The world begins to shift, pulling you and your chosen reflections away from this place of mirrors and code. You are no longer alone.",
        "omega_interrupt": "Just as victory seems possible, a violent shudder runs through the arena. Omega's voice cuts through everything: 'INTERFERENCE DETECTED... DREAMWEAVER ACTIVITY... INITIATING EMERGENCY RESET...' The world begins to shift, pulling you and your chosen reflections away from this place of mirrors and code. You are no longer alone."
      },
      "visual": "Arena dissolves/glitches. Transition to next stage."
    }
  },
  "stage_beats": [
    {
      "id": "beat_1",
      "name": "First Reflection",
      "type": "mirror",
      "narrative": {
        "dw_intro": {
          "light": "Look into the first mirror, Hero. See the strength you might wield.",
          "mischief": "Ooh, go on then, pick your first echo. Don't pick boring, now!",
          "wrath": "Choose. Now. The code watches. We have little time."
        },
        "dw_selection_prompt": "Choose your first reflection. What strength will you wield?",
        "dw_comment_after": {
          "light": "A solid choice. This echo resonates with potential.",
          "mischief": "Heh, hope you can handle the heat!",
          "wrath": "Strength... but you'll need more."
        }
      },
      "mirror_data": {
        "prompt": "Choose your first reflection. What strength will you wield?",
        "stage2_modifier": {
          "filter": "light path highlights scribe"
        },
        "available_characters": [
          { "id": "fighter", "name": "Fighter", "description": "Strong and resilient. The bulwark against the storm.", "dw_reflection": "light" },
          { "id": "wizard", "name": "Wizard", "description": "Master of arcane. The wielder of hidden power.", "dw_reflection": "mischief" },
          { "id": "thief", "name": "Thief", "description": "Swift and cunning. The shadow's edge.", "dw_reflection": "mischief" },
          { "id": "scribe", "name": "Scribe", "description": "Keeper of echoes. The bridge between stories.", "dw_reflection": "light" }
        ]
      }
    },
    {
      "id": "beat_2",
      "name": "First Test",
      "type": "combat",
      "narrative": {
        "encounter_setup": {
          "text": "The mirror shimmers and fades. The reflection steps forward, becoming real. You stand in a stark, digital arena. A single, powerful 'Wolf-Claw Hybrid' materializes, its form flickering with static. 'The code tests you first,' whispers Wrath. 'Show it your strength... or lack thereof.'",
          "dw_presence": ["light", "mischief", "wrath"]
        },
        "tutorial_hint": "Use your first hero's basic attack.",
        "dw_reaction_on_failure": {
          "light": "It's too much! You need help! The code is stronger than you think!",
          "mischief": "Whoops! Maybe bring some friends next time? Heh.",
          "wrath": "Foolish! You cannot face the echoes alone! The loop will claim you!"
        },
        "dw_reaction_on_success": {
          "light": "Well done, but this was only the first test.",
          "mischief": "Heh, not bad! But it gets trickier!",
          "wrath": "Acceptable. But more will come."
        },
        "transition_to_next": "The battle ends abruptly, not by your victory or defeat, but by a pull from the mirrors themselves. You are yanked back."
      },
      "combat_data": {
        "encounter": "A single, powerful 'Wolf-Claw Hybrid' blocks the path.",
        "initial_party_size": 1,
        "required_party_size": 2,
        "outcome": "automatic_return_to_mirror"
      }
    },
    {
      "id": "beat_3",
      "name": "Second Reflection",
      "type": "mirror",
      "narrative": {
        "dw_intro": {
          "light": "The first echo is strong, but the path is dark. Choose your second reflection. What balance do you seek?",
          "mischief": "Okay, pick someone to back you up! Someone with a different trick up their sleeve!",
          "wrath": "Choose speed, or magic to augment your strength. The code grows restless."
        },
        "dw_selection_prompt": "The first echo stands ready. Choose your second. What do you need?",
        "dw_comment_after": {
          "light": "Good, you're building a foundation.",
          "mischief": "Heh
