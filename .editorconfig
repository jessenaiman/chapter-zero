# .editorconfig for Godot C# projects with minimal suppressions
root = true

[*.cs]
indent_style = space
indent_size = 4
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true

# C# style rules aligned with Godot conventions
csharp_new_line_before_open_brace = all
csharp_indent_case_contents = true
csharp_indent_switch_labels = true
csharp_space_after_cast = true
csharp_space_around_binary_operators = true
csharp_style_var_for_built_in_types = false
csharp_style_var_when_type_is_apparent = true
csharp_style_var_elsewhere = true
csharp_style_prefer_auto_properties = true
csharp_style_prefer_simple_using_statement = true
csharp_style_prefer_local_over_anonymous_function = true
csharp_style_prefer_conditional_expression_over_assignment = true
csharp_style_prefer_conditional_expression_over_return = true

# Naming conventions - enforced across the project
# Private fields must use underscore prefix and PascalCase for acronyms like Ui, AI
dotnet_naming_rule.private_fields_underscore.symbols = private_fields
dotnet_naming_rule.private_fields_underscore.style = private_prefix_pascal_acronym
dotnet_naming_rule.private_fields_underscore.severity = error

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private
dotnet_naming_symbols.private_fields.required_modifiers =

dotnet_naming_style.private_prefix_pascal_acronym.required_prefix = _
dotnet_naming_style.private_prefix_pascal_acronym.capitalization = pascal_case

# StyleCop suppressions for pragmatic development
dotnet_diagnostic.SA1600.severity = error    
dotnet_diagnostic.SA1649.severity = error  

# Enable key security and reliability rule
dotnet_diagnostic.CA3001.severity = error    # SQL injection
dotnet_diagnostic.CA3002.severity = error    # XSS vulnerabilities
dotnet_diagnostic.CA3075.severity = error    # Insecure XML processing
dotnet_diagnostic.CA5350.severity = error    # Weak cryptographic algorithms
dotnet_diagnostic.CA1805.severity = error    # Do not initialize unnecessarily
dotnet_diagnostic.CA1825.severity = error    # Avoid unnecessary array allocations
dotnet_diagnostic.CA2009.severity = error    # Do not call ToImmutable on Immutable collection

# Roslynator rules for code quality and documentation
dotnet_diagnostic.RCS1138.severity = error    # Add summary to documentation comment
dotnet_diagnostic.RCS1139.severity = error    # Add summary element
dotnet_diagnostic.RCS1140.severity = error    # Add exception documentation
dotnet_diagnostic.RCS1154.severity = error    # Sort modifiers
dotnet_diagnostic.RCS1155.severity = error    # Use StringComparison
dotnet_diagnostic.RCS1018.severity = error    # Add accessibility modifiers
dotnet_diagnostic.RCS1110.severity = error    # Declare type inside namespace
dotnet_diagnostic.RCS1225.severity = error    # Make class sealed
dotnet_diagnostic.RCS1229.severity = error    # Use async/await when necessary

# Godot-specific suppressions for generated code
[.godot/**/*.cs]
dotnet_diagnostic.CS0246.severity = none      # Type not found (Godot generated)
dotnet_diagnostic.CS0103.severity = none      # Name does not exist (Godot generated)
dotnet_diagnostic.CS0117.severity = none      # No definition (Godot generated)
dotnet_diagnostic.CS1061.severity = none      # No extension method (Godot generated)

# Encourage modern C# practices
csharp_style_expression_bodied_methods = true:suggestion
csharp_style_expression_bodied_properties = true:suggestion
csharp_style_expression_bodied_accessors = true:suggestion
csharp_style_prefer_switch_expression = true:suggestion

# Enforce braces for all control blocks
csharp_style_require_braces = true:warning

# Limit line length for readability
dotnet_diagnostic.IDE0055.severity = suggestion

# Enable additional code analysis rules
dotnet_diagnostic.CA1822.severity = warning    # Mark members as static
dotnet_diagnostic.CA1508.severity = warning    # Avoid dead code
dotnet_diagnostic.CA1501.severity = warning    # Cyclomatic complexity
