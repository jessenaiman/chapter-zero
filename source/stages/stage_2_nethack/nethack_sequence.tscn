[gd_scene load_steps=4 uid="uid://-hmaxqqwtqiu1"]

[ext_resource type="Script" path="res://source/scripts/AsciiRoomRenderer.cs" id="1"]
[ext_resource type="PackedScene" uid="uid://b8x3q8x3q8x3q" path="res://addons/godot_xterm/scenes/terminal.tscn" id="2"]
[ext_resource type="PackedScene" uid="uid="uid://c9y4r9y4r9y4r" path="res://addons/godot_xterm/scenes/pty.tscn" id="3"]

[sub_resource type="GradientTexture2D" id="1"]
gradient = SubResource("4")
width = 1024
height = 768

[sub_resource type="Gradient" id="4"]
colors = PackedColorArray(0, 0.2, 0.4, 0, 0, 0.8, 1, 0.1, 0, 0.2, 0.4, 0)

[sub_resource type="BoxMesh" id="2"]
size = Vector3(8, 6, 0.2)

[sub_resource type="StandardMaterial3D" id="3"]
albedo_color = Color(0.1, 0.1, 0.15, 1)
emission_enabled = true
emission = Color(0, 0.5, 1, 0.2)
emission_energy_multiplier = 0.5

[node name="Scene2NethackSequence" type="Node2D"]
script = ExtResource("1")

[node name="Terminal" parent="." instance=ExtResource("2")]
position = Vector2(400, 300)
scale = Vector2(0.8, 0.8)

[node name="PTY" parent="." instance=ExtResource("3")]

[node name="OverlayLayer" type="CanvasLayer" parent="."]

[node name="StatusOverlay" type="RichTextLabel" parent="OverlayLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = -20.0
theme_override_font_sizes/normal_font_size = 18
bbcode_enabled = true
text = "[color=green]Initializing Nethack Sequence...[/color]"

[node name="GlowEffect" type="TextureRect" parent="OverlayLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
texture = SubResource("1")
modulate = Color(0.2, 0.8, 1, 0.1)

[node name="TerminalDisplayBox" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="TerminalDisplayBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)
current = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="TerminalDisplayBox"]
transform = Transform3D(1, 0, 0, 0, 0.707, 0.707, 0, -0.707, 0.707, 0, 3, 3)
light_energy = 0.8
light_indirect_energy = 0.5

[node name="TerminalGeometry" type="MeshInstance3D" parent="TerminalDisplayBox"]
mesh = SubResource("2")
material/0 = SubResource("3")

[node name="RenderTimer" type="Timer" parent="."]
wait_time = 0.05
one_shot = false

[node name="MovementTimer" type="Timer" parent="."]
wait_time = 0.3
one_shot = true

[node name="GlowTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = false

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -10.0

[node name="AmbientPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -20.0

[node name="InputHandler" type="Node" parent="."]
